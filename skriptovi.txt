-- Generated by Oracle SQL Developer Data Modeler 23.1.0.087.0806
--   at:        2024-01-13 10:59:00 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g



DROP TABLE bankovni_racun CASCADE CONSTRAINTS;

DROP TABLE ima CASCADE CONSTRAINTS;

DROP TABLE karta CASCADE CONSTRAINTS;

DROP TABLE kategorija_putnika CASCADE CONSTRAINTS;

DROP TABLE klasa CASCADE CONSTRAINTS;

DROP TABLE kontrolor CASCADE CONSTRAINTS;

DROP TABLE masinovodja CASCADE CONSTRAINTS;

DROP TABLE mesto CASCADE CONSTRAINTS;

DROP TABLE obucen CASCADE CONSTRAINTS;

DROP TABLE poseduje CASCADE CONSTRAINTS;

DROP TABLE prevoz CASCADE CONSTRAINTS;

DROP TABLE putnik CASCADE CONSTRAINTS;

DROP TABLE radi_u CASCADE CONSTRAINTS;

DROP TABLE ruta CASCADE CONSTRAINTS;

DROP TABLE se_pristize CASCADE CONSTRAINTS;

DROP TABLE se_sastoji CASCADE CONSTRAINTS;

DROP TABLE stanica CASCADE CONSTRAINTS;

DROP TABLE transakcija CASCADE CONSTRAINTS;

DROP TABLE upravljanja_vozom CASCADE CONSTRAINTS;

DROP TABLE voz CASCADE CONSTRAINTS;

DROP TABLE zaposleni CASCADE CONSTRAINTS;

-- predefined type, no DDL - MDSYS.SDO_GEOMETRY

-- predefined type, no DDL - XMLTYPE

CREATE TABLE bankovni_racun (
    brtkr        NUMBER(18) NOT NULL,
    kolsredstava NUMBER(14, 2),
    valutar      VARCHAR2(3 CHAR) NOT NULL,
    vrstar       VARCHAR2(8 CHAR) NOT NULL,
    idp          INTEGER NOT NULL
);

ALTER TABLE bankovni_racun
    ADD CHECK ( valutar IN ( 'EUR', 'RSD' ) );

ALTER TABLE bankovni_racun
    ADD CHECK ( vrstar IN ( 'dinarski', 'tekuci' ) );

ALTER TABLE bankovni_racun ADD CONSTRAINT bankovni_racun_pk PRIMARY KEY ( brtkr );

CREATE TABLE ima (
    brmestakl NUMBER(4),
    idv       INTEGER NOT NULL,
    idkl      INTEGER NOT NULL
);

ALTER TABLE ima ADD CONSTRAINT ima_pk PRIMARY KEY ( idv,
                                                    idkl );

CREATE TABLE karta (
    idk        INTEGER NOT NULL,
    cenakt     NUMBER(9, 2),
    datumpkt   DATE,
    datumdkt   DATE,
    vremepkt   DATE,
    vremedkt   DATE,
    otkazanakt VARCHAR2(5 CHAR),
    idpr       INTEGER NOT NULL,
    idprv      INTEGER NOT NULL,
    idpst      INTEGER NOT NULL,
    iddst      INTEGER NOT NULL,
    mbk        INTEGER,
    idv        INTEGER NOT NULL,
    idkl       INTEGER NOT NULL
);

ALTER TABLE karta
    ADD CHECK ( otkazanakt IN ( 'jeste', 'nije' ) );

ALTER TABLE karta ADD CONSTRAINT karta_pk PRIMARY KEY ( idk );

CREATE TABLE kategorija_putnika (
    nazkatp   VARCHAR2(16 CHAR) NOT NULL,
    procenatp NUMBER(3, 2)
);

ALTER TABLE kategorija_putnika
    ADD CHECK ( nazkatp IN ( 'penzioner', 'radnik', 'regularni_putnik', 'student' ) );

ALTER TABLE kategorija_putnika ADD CONSTRAINT kategorija_putnika_pk PRIMARY KEY ( nazkatp );

CREATE TABLE klasa (
    idkl  INTEGER NOT NULL,
    nazkl VARCHAR2(50)
);

ALTER TABLE klasa ADD CONSTRAINT klasa_pk PRIMARY KEY ( idkl );

CREATE TABLE kontrolor (
    mbz INTEGER NOT NULL
);

ALTER TABLE kontrolor ADD CONSTRAINT kontrolor_pk PRIMARY KEY ( mbz );

CREATE TABLE masinovodja (
    mbz INTEGER NOT NULL
);

ALTER TABLE masinovodja ADD CONSTRAINT masinovodja_pk PRIMARY KEY ( mbz );

CREATE TABLE mesto (
    nazmst   VARCHAR2(50 CHAR) NOT NULL,
    opstinam VARCHAR2(50 CHAR),
    pkodm    NUMBER(5),
    gsirm    NUMBER(9, 6),
    gduzm    NUMBER(9, 6)
);

ALTER TABLE mesto ADD CONSTRAINT mesto_pk PRIMARY KEY ( nazmst );

ALTER TABLE mesto ADD CONSTRAINT mesto_gsirm_gduzm_un UNIQUE ( gsirm,
                                                               gduzm );

CREATE TABLE obucen (
    idv INTEGER NOT NULL,
    mbm INTEGER NOT NULL
);

ALTER TABLE obucen ADD CONSTRAINT obucen_pk PRIMARY KEY ( idv,
                                                          mbm );

CREATE TABLE poseduje (
    idprv INTEGER NOT NULL,
    idrt  INTEGER NOT NULL
);

ALTER TABLE poseduje ADD CONSTRAINT poseduje_pk PRIMARY KEY ( idprv,
                                                              idrt );

CREATE TABLE prevoz (
    idprv     INTEGER NOT NULL,
    vremepprv DATE NOT NULL,
    vremedprv DATE NOT NULL,
    idv       INTEGER NOT NULL,
    idpst     INTEGER NOT NULL,
    iddst     INTEGER NOT NULL
);

ALTER TABLE prevoz ADD CONSTRAINT prevoz_pk PRIMARY KEY ( idprv );

CREATE TABLE putnik (
    idp     INTEGER NOT NULL,
    imep    VARCHAR2(50),
    przp    VARCHAR2(50),
    polp    VARCHAR2(6 CHAR),
    datumrp DATE,
    emailp  VARCHAR2(50),
    nazkatp VARCHAR2(16 CHAR) NOT NULL
);

ALTER TABLE putnik
    ADD CHECK ( polp IN ( 'muski', 'zenski' ) );

ALTER TABLE putnik
    ADD CHECK ( nazkatp IN ( 'penzioner', 'radnik', 'regularni_putnik', 'student' ) );

ALTER TABLE putnik ADD CONSTRAINT putnik_pk PRIMARY KEY ( idp );

ALTER TABLE putnik ADD CONSTRAINT putnik_emailp_un UNIQUE ( emailp );

CREATE TABLE radi_u (
    mbk INTEGER NOT NULL,
    idv INTEGER NOT NULL
);

ALTER TABLE radi_u ADD CONSTRAINT radi_u_pk PRIMARY KEY ( mbk,
                                                          idv );

CREATE TABLE ruta (
    idrt     INTEGER NOT NULL,
    ukrastrt NUMBER(7, 2),
    brstrt   INTEGER
);

ALTER TABLE ruta ADD CONSTRAINT ruta_pk PRIMARY KEY ( idrt );

CREATE TABLE se_pristize (
    idpst INTEGER NOT NULL,
    idost INTEGER NOT NULL,
    trput NUMBER(3) NOT NULL
);

ALTER TABLE se_pristize ADD CONSTRAINT se_pristize_pk PRIMARY KEY ( idpst,
                                                                    idost );

CREATE TABLE se_sastoji (
    idst INTEGER NOT NULL,
    idrt INTEGER NOT NULL
);

ALTER TABLE se_sastoji ADD CONSTRAINT se_sastoji_pk PRIMARY KEY ( idst,
                                                                  idrt );

CREATE TABLE stanica (
    idst    INTEGER NOT NULL,
    nazst   VARCHAR2(50 CHAR),
    brkolos NUMBER(3),
    gsirs   NUMBER(9, 6),
    gduzs   NUMBER(9, 6),
    nazmst  VARCHAR2(50 CHAR) NOT NULL
);

ALTER TABLE stanica ADD CONSTRAINT stanica_pk PRIMARY KEY ( idst );

ALTER TABLE stanica ADD CONSTRAINT stanica_gsirs_gduzs_un UNIQUE ( gsirs,
                                                                   gduzs );

CREATE TABLE transakcija (
    idtr    INTEGER NOT NULL,
    datumtr DATE NOT NULL,
    vremetr DATE NOT NULL,
    iznostr NUMBER(9, 2),
    brtkr   NUMBER(18) NOT NULL,
    idk     INTEGER NOT NULL
);

ALTER TABLE transakcija ADD CONSTRAINT transakcija_pk PRIMARY KEY ( idtr );

ALTER TABLE transakcija ADD CONSTRAINT transakcija_idk_un UNIQUE ( idk );

CREATE TABLE upravljanja_vozom (
    redbrupr  INTEGER NOT NULL,
    datumpupr DATE,
    datumzupr DATE,
    idv       INTEGER NOT NULL,
    mbm       INTEGER NOT NULL
);

ALTER TABLE upravljanja_vozom ADD CONSTRAINT upravljanja_vozom_pk PRIMARY KEY ( redbrupr );

CREATE TABLE voz (
    idv        INTEGER NOT NULL,
    ukbrmestav NUMBER(4),
    nazv       VARCHAR2(50) NOT NULL,
    maksbrzv   NUMBER(3)
);

ALTER TABLE voz ADD CONSTRAINT voz_pk PRIMARY KEY ( idv );

CREATE TABLE zaposleni (
    mbz   INTEGER NOT NULL,
    imez  VARCHAR2(50) NOT NULL,
    prezz VARCHAR2(50) NOT NULL,
    tipz  VARCHAR2(11 CHAR) NOT NULL,
    pltz  NUMBER(10, 2),
    ruk   INTEGER
);

ALTER TABLE zaposleni
    ADD CHECK ( tipz IN ( 'direktor', 'dispecer', 'higijenicar', 'kontrolor', 'masinovodja',
                          'programer' ) );

ALTER TABLE zaposleni ADD CONSTRAINT zaposleni_pk PRIMARY KEY ( mbz );

ALTER TABLE bankovni_racun
    ADD CONSTRAINT bankovni_racun_putnik_fk FOREIGN KEY ( idp )
        REFERENCES putnik ( idp );

ALTER TABLE ima
    ADD CONSTRAINT ima_klasa_fk FOREIGN KEY ( idkl )
        REFERENCES klasa ( idkl );

ALTER TABLE ima
    ADD CONSTRAINT ima_voz_fk FOREIGN KEY ( idv )
        REFERENCES voz ( idv );

ALTER TABLE karta
    ADD CONSTRAINT karta_ima_fk FOREIGN KEY ( idv,
                                              idkl )
        REFERENCES ima ( idv,
                         idkl );

ALTER TABLE karta
    ADD CONSTRAINT karta_prevoz_fk FOREIGN KEY ( idprv )
        REFERENCES prevoz ( idprv );

ALTER TABLE karta
    ADD CONSTRAINT karta_putnik_fk FOREIGN KEY ( idpr )
        REFERENCES putnik ( idp );

ALTER TABLE karta
    ADD CONSTRAINT karta_radi_u_fk FOREIGN KEY ( mbk,
                                                 idv )
        REFERENCES radi_u ( mbk,
                            idv );

ALTER TABLE karta
    ADD CONSTRAINT karta_stanica_fk FOREIGN KEY ( idpst )
        REFERENCES stanica ( idst );

ALTER TABLE karta
    ADD CONSTRAINT karta_stanica_fkv2 FOREIGN KEY ( iddst )
        REFERENCES stanica ( idst );

ALTER TABLE kontrolor
    ADD CONSTRAINT kontrolor_zaposleni_fk FOREIGN KEY ( mbz )
        REFERENCES zaposleni ( mbz );

ALTER TABLE masinovodja
    ADD CONSTRAINT masinovodja_zaposleni_fk FOREIGN KEY ( mbz )
        REFERENCES zaposleni ( mbz );

ALTER TABLE obucen
    ADD CONSTRAINT obucen_masinovodja_fk FOREIGN KEY ( mbm )
        REFERENCES masinovodja ( mbz );

ALTER TABLE obucen
    ADD CONSTRAINT obucen_voz_fk FOREIGN KEY ( idv )
        REFERENCES voz ( idv );

ALTER TABLE poseduje
    ADD CONSTRAINT poseduje_prevoz_fk FOREIGN KEY ( idprv )
        REFERENCES prevoz ( idprv );

ALTER TABLE poseduje
    ADD CONSTRAINT poseduje_ruta_fk FOREIGN KEY ( idrt )
        REFERENCES ruta ( idrt );

ALTER TABLE prevoz
    ADD CONSTRAINT prevoz_stanica_fk FOREIGN KEY ( iddst )
        REFERENCES stanica ( idst );

ALTER TABLE prevoz
    ADD CONSTRAINT prevoz_stanica_fkv2 FOREIGN KEY ( idpst )
        REFERENCES stanica ( idst );

ALTER TABLE prevoz
    ADD CONSTRAINT prevoz_voz_fk FOREIGN KEY ( idv )
        REFERENCES voz ( idv );

ALTER TABLE putnik
    ADD CONSTRAINT putnik_kategorija_putnika_fk FOREIGN KEY ( nazkatp )
        REFERENCES kategorija_putnika ( nazkatp );

ALTER TABLE radi_u
    ADD CONSTRAINT radi_u_kontrolor_fk FOREIGN KEY ( mbk )
        REFERENCES kontrolor ( mbz );

ALTER TABLE radi_u
    ADD CONSTRAINT radi_u_voz_fk FOREIGN KEY ( idv )
        REFERENCES voz ( idv );

ALTER TABLE se_pristize
    ADD CONSTRAINT se_pristize_stanica_fk FOREIGN KEY ( idpst )
        REFERENCES stanica ( idst );

ALTER TABLE se_pristize
    ADD CONSTRAINT se_pristize_stanica_fkv1 FOREIGN KEY ( idost )
        REFERENCES stanica ( idst );

ALTER TABLE se_sastoji
    ADD CONSTRAINT se_sastoji_ruta_fk FOREIGN KEY ( idrt )
        REFERENCES ruta ( idrt );

ALTER TABLE se_sastoji
    ADD CONSTRAINT se_sastoji_stanica_fk FOREIGN KEY ( idst )
        REFERENCES stanica ( idst );

ALTER TABLE stanica
    ADD CONSTRAINT stanica_mesto_fk FOREIGN KEY ( nazmst )
        REFERENCES mesto ( nazmst );

ALTER TABLE transakcija
    ADD CONSTRAINT transakcija_bankovni_racun_fk FOREIGN KEY ( brtkr )
        REFERENCES bankovni_racun ( brtkr );

ALTER TABLE transakcija
    ADD CONSTRAINT transakcija_karta_fk FOREIGN KEY ( idk )
        REFERENCES karta ( idk );

ALTER TABLE upravljanja_vozom
    ADD CONSTRAINT upravljanja_vozom_obucen_fk FOREIGN KEY ( idv,
                                                             mbm )
        REFERENCES obucen ( idv,
                            mbm );

ALTER TABLE zaposleni
    ADD CONSTRAINT zaposleni_zaposleni_fk FOREIGN KEY ( ruk )
        REFERENCES zaposleni ( mbz );

--  ERROR: No Discriminator Column found in Arc FKArc_1 - constraint trigger for Arc cannot be generated 

--  ERROR: No Discriminator Column found in Arc FKArc_1 - constraint trigger for Arc cannot be generated



-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            21
-- CREATE INDEX                             0
-- ALTER TABLE                             62
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE MATERIALIZED VIEW LOG             0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   2
-- WARNINGS                                 0







INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (101, 'Ivana', 'Ivanović', 'kontrolor', 52000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (102, 'Stefan', 'Stefanović', 'masinovodja', 61000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (103, 'Jovana', 'Jovanović', 'programer', 72000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (104, 'Nemanja', 'Nemanjić', 'direktor', 105000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (105, 'Tamara', 'Tamić', 'dispecer', 57000, 101);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (106, 'Đorđe', 'Đorđević', 'higijenicar', 47000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (107, 'Ana', 'Aleksov', 'kontrolor', 50000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (108, 'Stefana', 'Stojanović', 'masinovodja', 59000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (109, 'Nikola', 'Nikolić', 'programer', 71000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (110, 'Jelena', 'Jovanović', 'direktor', 98000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (111, 'Aleksandar', 'Aleksandrović', 'dispecer', 54000, 107);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (112, 'Mina', 'Minić', 'higijenicar', 49000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (113, 'Viktor', 'Viktorović', 'kontrolor', 53000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (114, 'Teodora', 'Teodorović', 'masinovodja', 62000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (115, 'Luka', 'Lukić', 'programer', 73000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (116, 'Milan', 'Milanović', 'direktor', 110000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (117, 'Tijana', 'Tijanić', 'dispecer', 58000, 113);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (118, 'Nina', 'Ninić', 'higijenicar', 48000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (119, 'Nemanja', 'Nemanjić', 'kontrolor', 51000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (120, 'Mia', 'Milić', 'masinovodja', 60000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (121, 'Stefan', 'Stefanović', 'programer', 71000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (122, 'Tamara', 'Tamić', 'direktor', 99000, NULL);
INSERT INTO Zaposleni (mbz, imez, prezz, tipz, pltz, ruk) VALUES (123, 'Jelena', 'Jovanović', 'dispecer', 55000, 119);


INSERT INTO masinovodja mbz
SELECT mbz
FROM Zaposleni
WHERE tipz = 'masinovodja';


INSERT INTO kontrolor mbz
SELECT mbz
FROM Zaposleni
WHERE tipz = 'kontrolor';


INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (1, 120, 'Korail KTX-Sancheon', 305);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (2, 240, 'Renfe AVE 103', 310);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (3, 200, 'ONCF Al Boraq', 320);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (4, 180, 'DB ICE 4', 300);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (5, 160, 'TGV Duplex', 320);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (6, 220, 'NSB Flirt', 280);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (7, 200, 'SJ X2000', 300);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (8, 240, 'Thalys', 310);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (9, 220, 'Eurostar', 320);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (10, 200, 'Frecciarossa 1000', 360);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (11, 180, 'Shinkansen N700', 320);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (12, 160, 'AVE S-102', 330);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (13, 200, 'Sapsan', 250);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (14, 220, 'Trans-Siberian Express', 250);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (15, 240, 'Orient Express', 200);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (16, 200, 'California Zephyr', 180);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (17, 180, 'Bernina Express', 150);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (18, 160, 'Blue Train', 200);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (19, 200, 'Palace on Wheels', 120);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (20, 240, 'Golden Eagle Trans-Siberian Express', 220);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (21, 220, 'Rocky Mountaineer', 180);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (22, 200, 'Indian Pacific', 200);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (23, 180, 'Glacier Express', 150);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (24, 160, 'The Ghan', 160);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (25, 220, 'Venice Simplon-Orient-Express', 180);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (26, 240, 'Bernina Express', 150);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (27, 200, 'Sunset Limited', 160);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (28, 180, 'The Canadian', 180);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (29, 160, 'Palace on Wheels', 120);
INSERT INTO Voz (idv, ukbrmestav, nazv, maksbrzv) VALUES (30, 220, 'Golden Eagle Trans-Siberian Express', 220);



INSERT INTO Klasa (idkl, nazkl) VALUES (1, 'Ekonomska klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (2, 'Biznis klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (3, 'Prva klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (4, 'Luksuzna klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (5, 'Turistička klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (6, 'Sleeper klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (7, 'Tourist klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (8, 'Express klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (9, 'Family klasa');
INSERT INTO Klasa (idkl, nazkl) VALUES (10, 'Standard klasa');



INSERT INTO Ima (brmestakl, idv, idkl) VALUES (80, 1, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (40, 1, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (120, 2, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (60, 2, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (40, 2, 8);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 3, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (40, 3, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (25, 3, 7);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (90, 4, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (40, 4, 6);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (25, 4, 9);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (75, 5, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (25, 5, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (15, 5, 10);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (110, 6, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (55, 6, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (35, 6, 8);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (95, 7, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (75, 7, 6);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (85, 8, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 8, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (70, 9, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (120, 9, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 10, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (80, 10, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (160, 11, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (110, 12, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (95, 13, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (45, 13, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (30, 13, 7);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (10, 13, 8);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (200, 14, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (220, 15, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (160, 16, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (30, 16, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (150, 17, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (40, 18, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (15, 18, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (10, 18, 7);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (40, 18, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (15, 18, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (10, 18, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (35, 19, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (15, 19, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 19, 9);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (205, 20, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 21, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (80, 21, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (70, 22, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (30, 22, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (90, 22, 8);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (60, 23, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 23, 6);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (120, 24, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (45, 25, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (20, 25, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (10, 25, 8);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (34, 25, 9);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (11, 25, 10);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (20, 25, 6);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (140, 26, 2);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (15, 26, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (10, 26, 7);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (35, 27, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (15, 27, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 27, 8);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (30, 28, 1);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (10, 28, 4);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (105, 28, 6);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (25, 29, 3);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (100, 29, 5);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (5, 29, 9);
INSERT INTO Ima (brmestakl, idv, idkl) VALUES (200, 30, 2);



INSERT INTO Obucen (mbm, idv) VALUES (102,13);
INSERT INTO Obucen (mbm, idv) VALUES (108,11);
INSERT INTO Obucen (mbm, idv) VALUES (114,28);
INSERT INTO Obucen (mbm, idv) VALUES (120,24);
INSERT INTO Obucen (mbm, idv) VALUES (102,6);
INSERT INTO Obucen (mbm, idv) VALUES (108,21);
INSERT INTO Obucen (mbm, idv) VALUES (114,7);
INSERT INTO Obucen (mbm, idv) VALUES (120,26);
INSERT INTO Obucen (mbm, idv) VALUES (102,22);
INSERT INTO Obucen (mbm, idv) VALUES (108,23);
INSERT INTO Obucen (mbm, idv) VALUES (114,16);
INSERT INTO Obucen (mbm, idv) VALUES (120,27);
INSERT INTO Obucen (mbm, idv) VALUES (102,18);
INSERT INTO Obucen (mbm, idv) VALUES (114,29);
INSERT INTO Obucen (mbm, idv) VALUES (120,25);
INSERT INTO Obucen (mbm, idv) VALUES (102,3);
INSERT INTO Obucen (mbm, idv) VALUES (108,14);
INSERT INTO Obucen (mbm, idv) VALUES (114,2);
INSERT INTO Obucen (mbm, idv) VALUES (120,17);
INSERT INTO Obucen (mbm, idv) VALUES (102,19);
INSERT INTO Obucen (mbm, idv) VALUES (108,4);
INSERT INTO Obucen (mbm, idv) VALUES (114,1);
INSERT INTO Obucen (mbm, idv) VALUES (102,5);
INSERT INTO Obucen (mbm, idv) VALUES (108,12);
INSERT INTO Obucen (mbm, idv) VALUES (114,20);
INSERT INTO Obucen (mbm, idv) VALUES (120,8);
INSERT INTO Obucen (mbm, idv) VALUES (102,15);
INSERT INTO Obucen (mbm, idv) VALUES (108,30);
INSERT INTO Obucen (mbm, idv) VALUES (114,13);
INSERT INTO Obucen (mbm, idv) VALUES (120,1);
INSERT INTO Obucen (mbm, idv) VALUES (102,29);
INSERT INTO Obucen (mbm, idv) VALUES (108,5);
INSERT INTO Obucen (mbm, idv) VALUES (120,12);
INSERT INTO Obucen (mbm, idv) VALUES (102,27);
INSERT INTO Obucen (mbm, idv) VALUES (108,7);
INSERT INTO Obucen (mbm, idv) VALUES (114,26);
INSERT INTO Obucen (mbm, idv) VALUES (120,18);
INSERT INTO Obucen (mbm, idv) VALUES (102,11);
INSERT INTO Obucen (mbm, idv) VALUES (114,22);
INSERT INTO Obucen (mbm, idv) VALUES (120,14);
INSERT INTO Obucen (mbm, idv) VALUES (102,30);
INSERT INTO Obucen (mbm, idv) VALUES (108,9);
INSERT INTO Obucen (mbm, idv) VALUES (114,8);
INSERT INTO Obucen (mbm, idv) VALUES (120,10);
INSERT INTO Obucen (mbm, idv) VALUES (102,23);
INSERT INTO Obucen (mbm, idv) VALUES (108,16);
INSERT INTO Obucen (mbm, idv) VALUES (114,19);
INSERT INTO Obucen (mbm, idv) VALUES (120,2);
INSERT INTO Obucen (mbm, idv) VALUES (108,20);
INSERT INTO Obucen (mbm, idv) VALUES (114,3);
INSERT INTO Obucen (mbm, idv) VALUES (120,21);
INSERT INTO Obucen (mbm, idv) VALUES (102,25);
INSERT INTO Obucen (mbm, idv) VALUES (108,24);
INSERT INTO Obucen (mbm, idv) VALUES (114,17);
INSERT INTO Obucen (mbm, idv) VALUES (120,15);





-- nadoknadni nedostajuce vrednosti
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (1, TO_DATE('2021-01-01', 'YYYY-MM-DD'), TO_DATE('2024-09-10', 'YYYY-MM-DD'), 120, 15);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (2, TO_DATE('2020-01-02', 'YYYY-MM-DD'), TO_DATE('2024-08-12', 'YYYY-MM-DD'), 120, 15);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (3, TO_DATE('2020-01-03', 'YYYY-MM-DD'), TO_DATE('2024-08-14', 'YYYY-MM-DD'), 114, 3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (4, TO_DATE('2020-01-04', 'YYYY-MM-DD'), TO_DATE('2024-07-16', 'YYYY-MM-DD'), 114,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (5, TO_DATE('2021-01-05', 'YYYY-MM-DD'), TO_DATE('2025-07-18', 'YYYY-MM-DD'), 102, 5);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (6, TO_DATE('2021-02-10', 'YYYY-MM-DD'), TO_DATE('2025-05-15', 'YYYY-MM-DD'), 114,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (7, TO_DATE('2021-03-05', 'YYYY-MM-DD'), TO_DATE('2025-03-12', 'YYYY-MM-DD'), 114, 7);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (8, TO_DATE('2021-03-20', 'YYYY-MM-DD'), TO_DATE('2025-04-25', 'YYYY-MM-DD'), 120, 8);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (9, TO_DATE('2021-04-01', 'YYYY-MM-DD'), TO_DATE('2025-01-10', 'YYYY-MM-DD'), 114,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (10, TO_DATE('2024-04-15', 'YYYY-MM-DD'), TO_DATE('2026-11-20', 'YYYY-MM-DD'), 102,30);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (11, TO_DATE('2025-05-01', 'YYYY-MM-DD'), TO_DATE('2027-11-08', 'YYYY-MM-DD'), 102,30);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (12, TO_DATE('2026-05-15', 'YYYY-MM-DD'), TO_DATE('2028-11-22', 'YYYY-MM-DD'), 120, 12);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (13, TO_DATE('2026-06-01', 'YYYY-MM-DD'), TO_DATE('2028-05-10', 'YYYY-MM-DD'), 102, 13);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (14, TO_DATE('2026-06-15', 'YYYY-MM-DD'), TO_DATE('2028-08-20', 'YYYY-MM-DD'), 108, 14);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (15, TO_DATE('2023-07-01', 'YYYY-MM-DD'), TO_DATE('2029-08-08', 'YYYY-MM-DD'), 102,30);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (16, TO_DATE('2023-07-15', 'YYYY-MM-DD'), TO_DATE('2029-07-26', 'YYYY-MM-DD'), 108,12);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (17, TO_DATE('2021-08-01', 'YYYY-MM-DD'), TO_DATE('2029-08-10', 'YYYY-MM-DD'), 108,12);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (18, TO_DATE('2025-08-15', 'YYYY-MM-DD'), TO_DATE('2029-08-20', 'YYYY-MM-DD'), 108,12);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (19, TO_DATE('2023-09-01', 'YYYY-MM-DD'), TO_DATE('2029-03-08', 'YYYY-MM-DD'), 114, 19);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (20, TO_DATE('2027-09-15', 'YYYY-MM-DD'), TO_DATE('2029-03-28', 'YYYY-MM-DD'), 102,6);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (21, TO_DATE('2026-10-01', 'YYYY-MM-DD'), TO_DATE('2029-09-10', 'YYYY-MM-DD'), 102,6);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (22, TO_DATE('2025-10-15', 'YYYY-MM-DD'), TO_DATE('2026-02-20', 'YYYY-MM-DD'), 102,6);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (23, TO_DATE('2024-11-01', 'YYYY-MM-DD'), TO_DATE('2025-02-08', 'YYYY-MM-DD'), 120,25);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (24, TO_DATE('2021-11-15', 'YYYY-MM-DD'), TO_DATE('2026-11-22', 'YYYY-MM-DD'), 120, 24);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (25, TO_DATE('2021-12-01', 'YYYY-MM-DD'), TO_DATE('2028-02-25', 'YYYY-MM-DD'), 102, 25);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (26, TO_DATE('2023-12-15', 'YYYY-MM-DD'), TO_DATE('2024-12-25', 'YYYY-MM-DD'), 120,25);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (27, TO_DATE('2024-12-31', 'YYYY-MM-DD'), TO_DATE('2027-01-09', 'YYYY-MM-DD'), 120,25);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (28, TO_DATE('2025-01-15', 'YYYY-MM-DD'), TO_DATE('2027-01-08', 'YYYY-MM-DD'), 120,25);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (29, TO_DATE('2023-02-01', 'YYYY-MM-DD'), TO_DATE('2030-02-01', 'YYYY-MM-DD'), 102, 29);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (30, TO_DATE('2027-02-15', 'YYYY-MM-DD'), TO_DATE('2028-02-02', 'YYYY-MM-DD'), 108, 30);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (31, TO_DATE('2023-03-01', 'YYYY-MM-DD'), TO_DATE('2028-03-12', 'YYYY-MM-DD'), 108, 30);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (32, TO_DATE('2025-03-15', 'YYYY-MM-DD'), TO_DATE('2028-03-23', 'YYYY-MM-DD'), 102,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (33, TO_DATE('2023-04-01', 'YYYY-MM-DD'), TO_DATE('2026-04-22', 'YYYY-MM-DD'), 102,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (34, TO_DATE('2026-04-15', 'YYYY-MM-DD'), TO_DATE('2026-04-17', 'YYYY-MM-DD'), 102,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (35, TO_DATE('2022-05-01', 'YYYY-MM-DD'), TO_DATE('2025-05-16', 'YYYY-MM-DD'), 102, 13);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (36, TO_DATE('2024-05-15', 'YYYY-MM-DD'), TO_DATE('2028-05-15', 'YYYY-MM-DD'), 102,3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (37, TO_DATE('2026-06-01', 'YYYY-MM-DD'), TO_DATE('2029-06-14', 'YYYY-MM-DD'), 114,8);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (38, TO_DATE('2023-06-15', 'YYYY-MM-DD'), TO_DATE('2026-06-13', 'YYYY-MM-DD'), 114, 3);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (39, TO_DATE('2024-07-01', 'YYYY-MM-DD'), TO_DATE('2025-07-12', 'YYYY-MM-DD'), 120, 8);
INSERT INTO Upravljanja_vozom (redbrupr, datumpupr, datumzupr, mbm, idv) VALUES (40, TO_DATE('2026-07-15', 'YYYY-MM-DD'), TO_DATE('2027-07-11', 'YYYY-MM-DD'), 120, 8);




INSERT INTO Radi_u (mbk, idv) VALUES (107,13);
INSERT INTO Radi_u (mbk, idv) VALUES (113,17);
INSERT INTO Radi_u (mbk, idv) VALUES (119,11);
INSERT INTO Radi_u (mbk, idv) VALUES (101,20);
INSERT INTO Radi_u (mbk, idv) VALUES (107,12);
INSERT INTO Radi_u (mbk, idv) VALUES (113,19);
INSERT INTO Radi_u (mbk, idv) VALUES (119,8);
INSERT INTO Radi_u (mbk, idv) VALUES (101,4);
INSERT INTO Radi_u (mbk, idv) VALUES (107,22);
INSERT INTO Radi_u (mbk, idv) VALUES (113,28);
INSERT INTO Radi_u (mbk, idv) VALUES (119,1);
INSERT INTO Radi_u (mbk, idv) VALUES (101,30);
INSERT INTO Radi_u (mbk, idv) VALUES (107,5);
INSERT INTO Radi_u (mbk, idv) VALUES (113,2);
INSERT INTO Radi_u (mbk, idv) VALUES (119,26);
INSERT INTO Radi_u (mbk, idv) VALUES (119,27);
INSERT INTO Radi_u (mbk, idv) VALUES (101,21);
INSERT INTO Radi_u (mbk, idv) VALUES (107,9);
INSERT INTO Radi_u (mbk, idv) VALUES (113,16);
INSERT INTO Radi_u (mbk, idv) VALUES (119,29);
INSERT INTO Radi_u (mbk, idv) VALUES (101,25);
INSERT INTO Radi_u (mbk, idv) VALUES (107,24);
INSERT INTO Radi_u (mbk, idv) VALUES (113,15);
INSERT INTO Radi_u (mbk, idv) VALUES (119,23);
INSERT INTO Radi_u (mbk, idv) VALUES (101,18);
INSERT INTO Radi_u (mbk, idv) VALUES (107,3);
INSERT INTO Radi_u (mbk, idv) VALUES (113,10);
INSERT INTO Radi_u (mbk, idv) VALUES (119,6);
INSERT INTO Radi_u (mbk, idv) VALUES (101,7);
INSERT INTO Radi_u (mbk, idv) VALUES (107,8);
INSERT INTO Radi_u (mbk, idv) VALUES (113,7);
INSERT INTO Radi_u (mbk, idv) VALUES (101,2);
INSERT INTO Radi_u (mbk, idv) VALUES (107,4);
INSERT INTO Radi_u (mbk, idv) VALUES (113,30);
INSERT INTO Radi_u (mbk, idv) VALUES (119,14);
INSERT INTO Radi_u (mbk, idv) VALUES (101,1);
INSERT INTO Radi_u (mbk, idv) VALUES (107,19);
INSERT INTO Radi_u (mbk, idv) VALUES (119,20);
INSERT INTO Radi_u (mbk, idv) VALUES (107,21);
INSERT INTO Radi_u (mbk, idv) VALUES (113,25);
INSERT INTO Radi_u (mbk, idv) VALUES (119,12);
INSERT INTO Radi_u (mbk, idv) VALUES (101,9);
INSERT INTO Radi_u (mbk, idv) VALUES (113,3);
INSERT INTO Radi_u (mbk, idv) VALUES (119,15);
INSERT INTO Radi_u (mbk, idv) VALUES (101,16);
INSERT INTO Radi_u (mbk, idv) VALUES (107,11);
INSERT INTO Radi_u (mbk, idv) VALUES (113,29);
INSERT INTO Radi_u (mbk, idv) VALUES (119,5);
INSERT INTO Radi_u (mbk, idv) VALUES (101,17);
INSERT INTO Radi_u (mbk, idv) VALUES (107,23);
INSERT INTO Radi_u (mbk, idv) VALUES (113,6);
INSERT INTO Radi_u (mbk, idv) VALUES (119,22);
INSERT INTO Radi_u (mbk, idv) VALUES (101,26);
INSERT INTO Radi_u (mbk, idv) VALUES (107,10);
INSERT INTO Radi_u (mbk, idv) VALUES (113,13);






-- 1. pogled
-- Ovaj pogled prikazuje informacije o masinovodjama i broju različitih vozova kojim svaki od njih upravlja. 
-- Prikazuje imena i prezimena masinovodja, naziv modela voza, odnosno broj različitih vozova kojim su upravljali (ako je MODEL voza isti), 
-- ali samo za one masinovodje čija je plata veća od minimalne plate među svim masinovodjama. 
-- Takođe, rezultati su grupisani po imenima, prezimenima i nazivima modela voza,
-- a prikazane su samo one masinovodje koje su upravljale s više od jednog različitog voza, pri čemu je MODEL voza isti. 
-- Rezultati su sortirani rastuće prema imenima masinovodja.
CREATE VIEW POGLED_MASINOVODJE AS
SELECT z.imez AS ime_masinovodje, z.prezz AS prezime_masinovodje, COUNT(DISTINCT v.idv) AS broj_razlicitih_vozova, v.nazv AS naziv_modela_voza
FROM masinovodja m
LEFT OUTER JOIN zaposleni z ON m.mbz = z.mbz
LEFT OUTER JOIN obucen o ON m.mbz = o.mbm
LEFT OUTER JOIN voz v ON v.idv = o.idv
WHERE z.pltz > (SELECT MIN(zap.pltz) FROM zaposleni zap, masinovodja mas WHERE zap.mbz = mas.mbz)
GROUP BY z.imez, z.prezz, v.nazv
HAVING COUNT(DISTINCT v.idv) > 1
ORDER BY z.imez ASC;


-- 2. pogled
-- Ovaj pogled formira torke koje sadrže informacije o kontrolorima (maticni_broj_kontrolora, 
-- ime_kontrolora, prezime_kontrolora) koji su radili na vozovima luksuzne klase u kojima je prosečna 
-- maksimalna brzina vozova (gledano u odnosu na kontrolora) veća od prosečne maksimalne brzine svih vozova. 
-- Rezultati su grupisani po matičnom broju kontrolora i imenima, sortirani po matičnom broju 
-- kontrolora u rastućem redosledu. Ukupan broj mesta u luksuznim klasama vozova sumiran je za svakog kontrolora.
CREATE VIEW POGLED_LUKSUZNA_KLASA AS
SELECT r.mbk as maticni_broj_kontrolora, z.imez AS ime_kontrolora, z.prezz as prezime_kontrolora, sum(i.brmestakl) as uk_br_mesta_u_lux_klasama
FROM kontrolor k 
LEFT OUTER JOIN zaposleni z ON z.mbz = k.mbz
LEFT OUTER JOIN radi_u r ON r.mbk = k.mbz
LEFT OUTER JOIN voz v ON v.idv = r.idv
LEFT OUTER JOIN ima i ON v.idv = i.idv
LEFT OUTER JOIN klasa kl ON kl.idkl = i.idkl
WHERE nazkl = 'Luksuzna klasa'
GROUP BY r.mbk, z.imez, z.prezz
HAVING AVG(v.maksbrzv) > (SELECT AVG(maksbrzv) FROM voz)
ORDER BY r.mbk ASC;


-- 3. pogled
-- Ovaj pogled će sadržavati informacije o mašinovođama, 
-- uključujući matični broj, ime, prezime i broj različitih vozova kojim je mašinovođa upravljao.
-- Uz uslov da je vreme upravljanja mašinovođe vozom manje od godinu dana.
-- Na taj način brojeći promene u upravljanju vozovima nekog mašinovođe.
-- Pogled će biti sortiran po broju vozova u opadajućem redosledu.
-- * Having nije korišten, jer nema smisla u uvom pogledu.
CREATE VIEW POGLED_MASINOVODJA_UPRAVLJANJE AS
SELECT m.mbz as maticni_broj_masinovodje, z.imez AS ime_masinovodje, z.prezz as prezime_masinovodje, COUNT(DISTINCT v.idv) AS broj_razlicitih_vozova
FROM masinovodja m
LEFT OUTER JOIN zaposleni z ON z.mbz = m.mbz
LEFT OUTER JOIN obucen o ON o.mbm = m.mbz
LEFT OUTER JOIN voz v ON v.idv = o.idv
INNER JOIN upravljanja_vozom uv ON uv.idv = o.idv AND uv.mbm = o.mbm
WHERE MONTHS_BETWEEN(uv.datumpupr, uv.datumzupr) < 12
GROUP BY m.mbz, z.imez, z.prezz
-- HAVING  COUNT(DISTINCT v.idv) > 2 AND COUNT(DISTINCT v.idv) < 6  -- eventualno nešto ovako, nemam ideju za interesantniji upit
ORDER BY COUNT(DISTINCT v.idv) DESC;

